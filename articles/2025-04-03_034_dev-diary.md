---
title: Zenn記事と開発日記のフォーマット改善（開発日記 No.034）
emoji: 🛠️
type: idea
topics: ["開発日記", "Zenn", "フォーマット改善"]
published: false
---
:::message
この記事はgemini-2.0-flash-thinking-exp-01-21によって自動生成されています。
:::

## 関連リンク
- **前回の開発日記**: [前回の開発日記](https://zenn.dev/centervil/articles/2025-04-02_033_dev-diary)

## はじめに
昨日は、開発日記の処理とZennテンプレートの改善を行いました。しかし、生成されたZenn記事と開発日記のフォーマットにいくつか気になる点がありました。今日はそれらの不満点を解消し、より使いやすいフォーマットを目指して改善に取り組みます。

## 背景と目的
昨日の開発で自動生成されたZenn記事と開発日記を確認したところ、いくつかの課題が見つかりました。具体的には、Zenn記事のタイトルが冗長であったり、関連リンクのURLが間違っていたりといった点です。また、開発日記の「前日までの活動履歴」が肥大化している点も気になりました。

これらの課題を解決し、Zenn記事と開発日記のフォーマットをより洗練されたものにすることが今日の目的です。特に、Zenn記事については、タイトルを簡潔にし、関連リンクを正しく機能するように修正することで、記事の品質向上を図ります。開発日記については、「前日までの活動履歴」を整理し、必要な情報に絞り込むことで、可読性を高めたいと考えています。

## 検討内容
まず、Zenn記事のタイトルの冗長性について検討しました。現状のタイトルはコロンで区切られており、全体的に長すぎる印象を受けます。そこで、タイトルをより簡潔で具体的なものにするように指示を変更することにしました。

次に、関連リンクのURLの間違いについて調査しました。原因を特定するために、関連するワークフロー、スクリプト、テンプレートなどを順に確認していきました。ワークフローの設定、スクリプトの処理、テンプレートの記述など、各部分を丁寧に検証した結果、URL生成のロジック自体に問題は見当たらず、原因は特定できませんでした。しかし、とりあえずテンプレートの指示を修正することで、応急処置的に対応することにしました。具体的には、関連リンクから記事タイトルを削除し、URLのみを表示するように変更しました。

開発日記の「前日までの活動履歴」については、過去の履歴が蓄積されていくことで、ファイルが肥大化し、可読性が低下していることが問題だと考えました。そこで、「前日までの活動履歴」には直近1日分のみを記載するというルールを明確化し、今後の運用に反映させることにしました。

## 実装内容
まず、Zenn記事のタイトルを簡潔にするために、`Diary-Converter/templates/zenn_template.md` のLLM指示を修正しました。具体的には、タイトル生成に関する指示を調整し、コロン区切りをなくし、より簡潔なタイトルになるように変更しました。この修正により、タイトルが以前よりもスッキリとした印象になったはずです。

次に、関連リンクの問題に対処するため、同じく `Diary-Converter/templates/zenn_template.md` のLLM指示を修正しました。関連リンクの出力形式を調整し、記事タイトルを削除し、URLのみを出力するように変更しました。これにより、とりあえずURLの間違いは解消される見込みです。

開発日記の「前日までの活動履歴」に関するルールを明確化するため、`Docs/dev-docs/Auto_Logging_Guide.md` を修正しました。「前日までの活動履歴」の項目に、「直近1日分のみを記載する」というルールを追記しました。また、過去の記事 `Docs/articles/2025-03-07-conversation-auto-logging.md` に古いプロンプト例が記載されていたため、最新のガイドを参照するように注釈を追加しました。

これらの修正作業は、ファイルの内容不一致によるエラーが何度か発生しましたが、最終的にはすべて成功しました。

## 技術的なポイント
今回の実装における技術的なポイントは、LLMの指示を修正することで、出力されるZenn記事と開発日記のフォーマットを柔軟に制御できることを再確認できた点です。テンプレートのLLM指示を調整することで、タイトルの形式や関連リンクの出力形式などを細かく制御できることがわかりました。

また、関連リンクURLの間違いの原因特定には至りませんでしたが、テンプレート側で応急処置的な対応を行うことで、とりあえず問題を回避できることがわかりました。根本的な解決には至っていませんが、実用上は問題ないレベルになったと考えています。

## 所感
昨日の開発で生成されたZenn記事と開発日記のフォーマットに不満を感じ、今日の開発テーマをフォーマット改善に設定したのですが、実際に修正作業を進めていく中で、細部にまで気を配ることの重要性を改めて認識しました。

特に、Zenn記事のタイトルや関連リンクといった、読者が最初に目にする部分の品質は、記事全体の印象を大きく左右します。今回の修正で、タイトルが簡潔になり、関連リンクも正常に機能するようになったことで、Zenn記事の品質が向上したと感じています。

開発日記の「前日までの活動履歴」の整理も、地味な作業ではありますが、長期的に見ると、開発日記の可読性を維持するために重要な取り組みだと考えています。

今回の開発を通じて、LLMを活用した開発プロセスにおいて、初期の仕様定義だけでなく、継続的な改善とメンテナンスが不可欠であることを改めて学びました。

## 今後の課題
今回の修正で、Zenn記事と開発日記のフォーマットに関するいくつかの課題は解決しましたが、関連リンクURLの間違いの原因特定は今後の課題として残りました。引き続き原因調査を行い、根本的な解決を目指したいと思います。

また、開発日記のフォーマットについては、今後も継続的に見直しを行い、より使いやすいものに改善していく必要があると考えています。例えば、「前日までの活動履歴」の表示形式を工夫したり、他のセクションも必要に応じて追加・修正したりするなど、改善の余地はまだまだあるでしょう。

## まとめ
今日は、Zenn記事と開発日記のフォーマット改善に取り組みました。Zenn記事のタイトルを簡潔にし、関連リンクの問題を応急処置的に解決しました。また、開発日記の「前日までの活動履歴」のルールを明確化し、可読性向上を図りました。

今回の開発を通じて、LLMを活用した開発プロセスの改善には、継続的な努力が不可欠であることを再認識しました。今後も、ユーザーからのフィードバックや、日々の開発で気づいた点を元に、より良い開発環境を構築していきたいと思います。