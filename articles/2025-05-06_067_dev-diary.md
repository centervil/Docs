---
title: Cursor Rules用リポジトリ作成と初期Rule設定（開発日記 No.067）
emoji: 🗂️
type: idea
topics: ["開発日記", "Cursor", "GitHub", "LLM"]
published: false
---

:::message
この記事はgemini-2.5-pro-exp-03-25によって自動生成されています。
:::

## 関連リンク
- [前回の開発日記](https://zenn.dev/centervil/articles/2025-05-05_066_dev-diary)

## はじめに
昨日は、CursorのRules機能について、具体的な設定方法や検証手順をドキュメントにまとめる作業を行いました。今日はその続きとして、`Cursor_Rules_Verification_Plan.md` の計画に基づき、実際にCursorのRulesを保管するための専用リポジトリを作成し、最初のRuleファイルをGitHubにPushする準備を整えることを目標とします。具体的には、既存の `development_process_guide.md` を元にして、実践的なRuleファイル群を作成していきます。

## 背景と目的
CursorのRules機能を活用することで、開発プロセスを標準化し、LLMとの協調作業をよりスムーズかつ効率的に行うことを目指しています。そのためには、汎用的に利用できるRuleセットを整備し、それをチームやプロジェクトで共有できる形にする必要があります。
今回の目的は、その第一歩として、Ruleを保管・管理するための専用GitHubリポジトリをセットアップし、開発プロセスのガイドラインを具体的なRuleファイルに落とし込むことです。これにより、今後のRule拡充や検証作業の基盤を築きます。

## 検討内容
まず、LLM（相棒のAIアシスタント）に今日の開発テーマを伝え、`Auto_Logging_Guide.md` と `Cursor_Rules_Verification_Plan.md` を参照して作業準備を始めるよう指示しました。
主な作業は、`development_process_guide.md` の内容を、CursorのRuleとして機能するように分割し、ファイル化することです。このドキュメントは広範な内容を含んでいるため、どのように分割し、どのようなフォルダ構造でリポジトリを管理するかが最初の検討ポイントとなりました。

LLMからは、以下のようなRuleの分割方針とフォルダ構造案が提示されました。

*   **Ruleの分割方針案:**
    1.  **背景知識 Rule (常に適用):** 開発スタイル全体像、設計原則などを記述。`alwaysApply: true` を設定。
    2.  **役割（モード） Rule (手動またはキーワードで適用):**
        *   案A: 包括的な開発推進モード（開発プロセス全体をカバー）。
        *   案B: より細かい役割ごとのモード（TDD支援、GitHub Flowガイドなど）。
        *   案C: 案Aと案Bの組み合わせ。

*   **フォルダ構造案:**
    ```
    my-cursor-rules/
    ├── knowledge/  # 背景知識Rule用
    └── modes/      # 役割Rule用
    ```

これらの提案に対し、私は以下のようにフィードバックしました。

1.  **役割 Rule の分割方針:** 案Cを採用。包括的なモードには、必要に応じて専門的なモードに切り替えて作業を継続し、それが終わったら包括モードに戻る、という指示を含めるように依頼しました。これにより、柔軟性と網羅性を両立できると考えました。
2.  **`agentRequested` の利用:** 現時点では `agentRequested: true`（特定のキーワードでRuleを起動する機能）は設定しないことにしました。まずは基本的なRuleの動作を確認したいためです。
3.  **Rule の粒度と参照:** 特定のツールの使い方など詳細な情報は、Ruleファイルに直接記述するのではなく、参照ドキュメントとして別ファイルに切り出すよう指示しました。Ruleファイルからは、例えば `@references/ツール名_usage.md` のように参照させる形です。これは、将来的に各プロジェクトでこれらのRuleをシンボリックリンクで利用することを想定し、パスの解決を容易にするためです。この方針に基づき、`references/` ディレクトリを追加することも決定しました。

これらの検討を経て、Ruleファイルの具体的な構成とリポジトリのディレクトリ構造が固まりました。

## 実装内容
LLMとの検討に基づき、以下の手順で実装作業を進めました。

1.  **開発日記の準備:**
    LLMが `Auto_Logging_Guide.md` に従い、まず本日の開発日記ファイル (`Docs/dev-records/2025-05-06_067_development.md`) を作成し、前日の活動履歴などを記述してくれました。

2.  **ローカルリポジトリの作成:**
    `Cursor_Rules_Verification_Plan.md` の指示通り、Rules保管用のローカルリポジトリ `my-cursor-rules` を作成し、Gitで初期化しました。
    ```bash
    mkdir my-cursor-rules
    cd my-cursor-rules
    git init
    ```

3.  **ディレクトリ構造の作成:**
    決定したフォルダ構造に基づき、`my-cursor-rules` リポジトリ内に `knowledge`, `modes`, `references` の各サブディレクトリを作成しました。
    ```bash
    # my-cursor-rules ディレクトリ内で実行
    mkdir knowledge modes references
    ```
    途中、LLMがカレントディレクトリを誤認識してコマンド実行に失敗する場面がありましたが、すぐに修正指示を出して対応しました。

4.  **Ruleファイルおよび参照ドキュメントの作成:**
    `development_process_guide.md` の内容を分解・再構成し、以下のファイル群を作成しました。

    *   **背景知識Rule:**
        *   `knowledge/knowledge_development_process.mdc`: 開発スタイル全体像、設計原則、Docker環境、品質管理、推奨ツールなど、常にLLMに意識してほしい基本的な知識を記述。
    *   **役割Rule:**
        *   `modes/mode_development_execution.mdc`: 包括的な開発推進モード。開発プロセス、ブランチ戦略、実践フロー、CI/CD、TDD手順の概要などを記述。必要に応じて専門モードへの切り替えを促す指示も含む。
        *   `modes/mode_tdd_facilitator.mdc`: TDD（テスト駆動開発）を実践する際の具体的な手順や考え方をサポートする専門モード。
        *   `modes/mode_github_flow_guide.mdc`: GitHub Flowに基づ