---
title: Cursor RulesのGit管理と横断利用の検討（開発日記 No.066）
emoji: ⚙️
type: idea
topics: ["開発日記", "Cursor", "Git"]
published: false
---

:::message
この記事はgemini-2.5-pro-exp-03-25によって自動生成されています。
:::

## 関連リンク
- [前回の開発日記](https://zenn.dev/centervil/articles/2025-05-04_065_dev-diary)

## はじめに
昨日は開発日記の自動記録機能の改善に取り組みました。今日は、その流れで以前から気になっていたCursorのRules機能について、より効率的な管理方法を検討することにしました。

## 背景と目的
CursorのRulesは、AIの振る舞いをカスタマイズできる強力な機能ですが、プロジェクトごとに設定するのは手間がかかります。特に、複数のプロジェクトで共通して利用したいRulesがある場合、それぞれのプロジェクトで同じ設定を繰り返すのは非効率です。
そこで、RulesをGitで一元管理し、複数のプロジェクトで簡単に再利用できる仕組みを構築することを目的としました。これにより、設定の手間を省き、開発効率を向上させることを目指します。

## 検討内容
まず、実現したいアイデアを具体化しました。
1.  **Git管理**: CursorのRules設定をGitでバージョン管理したい。
2.  **横断利用**: プロジェクト固有ではなく、複数のプロジェクトで共通のRulesを利用したい。
3.  **専用リポジトリ**: できれば、Rulesを管理するための専用Gitリポジトリを作成したい。
4.  **適用方法**: 各プロジェクトから、専用リポジトリで管理されているRulesを参照・適用できるようにしたい（ネットワーク経由が理想だが、ローカルファイル経由でも可）。
5.  **モード切替**: 特定の役割を持つRules（AIエージェントのモード）を、`@` シンボルなどを使って簡単に切り替えられるようにしたい。

これらのアイデアについて、LLMに相談し、実現可能性と具体的な手段を検討しました。

LLMからの提案は以下の通りです。

*   **Git管理**: プロジェクト内の `.cursor/rules` ディレクトリをGit管理対象に含めることで実現可能。
*   **横断利用・専用リポジトリ**: **Git Submodule** と **シンボリックリンク** を組み合わせる方式が推奨される。代替案として、User Rules（ユーザー全体で共通）やTeam Rules（チームで共有、有料機能）の利用も考えられる。
*   **適用方法**: Git Submodule方式を採用する場合、ローカルファイル経由での適用が可能。ネットワーク経由での直接的な適用は、Team Rules以外では標準機能として提供されていない可能性が高い。
*   **モード切替**: `@Cursor Rules` のような直接的なシンボルは現状存在しない。しかし、**Manual Rules**（ルールを手動で選択・適用）や **Agent Requested Rules**（特定のキーワードに反応してAIがルールを適用）を利用することで、類似の体験を実現できる可能性がある。

## 実装内容
今回は主に実現可能性の検討とアイデア出しに重点を置いたため、具体的な実装や検証は行っていません。LLMから提案された方式、特にGit Submoduleとシンボリックリンクを用いた管理方法や、Manual Rules/Agent Requested Rulesによるモード切替の代替案について、今後検証を進める予定です。

## 技術的なポイント
今回の検討で重要となった技術的な要素は以下の通りです。

*   **Cursor Rulesの種類**:
    *   **Project Rules**: プロジェクトルートの `.cursor/rules` ディレクトリで管理され、そのプロジェクト内でのみ有効。Git管理に適している。
    *   **User Rules**: ユーザー全体で共通の設定。複数のプロジェクトで利用できるが、プロジェクト固有の調整はしにくい。
    *   **Team Rules**: チームメンバー間で共有できるルール（有料機能）。ネットワーク経由での共有が可能。
    *   **Manual Rules**: ユーザーが手動で選択して適用するルール。
    *   **Agent Requested Rules**: 特定のキーワードやコンテキストに応じてAIが自動で適用するルール。
*   **Git Submodule**: あるGitリポジトリの中に、別のGitリポジトリをサブディレクトリとして含める機能。Rules専用リポジトリを作成し、各プロジェクトリポジトリから参照する際に活用できる。
*   **シンボリックリンク**: 特定のファイルやディレクトリへのリンクを作成する機能。Git Submoduleで取得したRulesディレクトリを、各プロジェクトの `.cursor/rules` ディレクトリとして認識させるために利用できる可能性がある。

## 所感
CursorのRulesをより効率的に管理したいという漠然とした思いから始まった今回の検討でしたが、LLMとの対話を通じて具体的な技術的選択肢が見えてきたのは大きな収穫でした。特に、Git Submoduleとシンボリックリンクを組み合わせるアイデアは、複数のプロジェクトで設定を共通化・一元管理するという目的に対して非常に有望だと感じています。
`@` シンボルでのモード切替が標準機能にない点は少し残念でしたが、Manual RulesやAgent Requested Rulesといった代替案があることが分かり、試してみる価値はありそうです。
このように、課題に対して具体的な解決策の候補を複数検討し、それぞれのメリット・デメリットを比較しながら最適な方法を探っていくプロセスは、開発の醍醐味の一つだと改めて感じました。

## 今後の課題
*   Git Submodule + シンボリックリンク方式によるRules管理の具体的なセットアップ手順の確立と動作検証。
*   Manual RulesとAgent Requested Rulesを実際に設定し、モード切替の代替としての使い勝手や有効性の評価。
*   Team Rulesについても、利用可能であれば機能や制約を調査する。

## まとめ
今回は、CursorのRulesをGitで管理し、複数のプロジェクトで横断的に利用するための方法について検討しました。Git Submoduleとシンボリックリンクを組み合わせる方式が有望であり、モード切替についても代替案が見つかりました。これらの方法を検証し、実装することで、今後の開発効率の向上が期待できます。