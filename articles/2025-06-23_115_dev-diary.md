---
title: "TTS品質検証とポッドキャスト風台本作成 (開発日記 No.115)"
emoji: "🎤"
type: "idea"
topics: ["開発日記", "TTS", "音声合成"]
published: false
---

:::message
この記事はgemini-2.0-flash-001によって自動生成されています。
:::

## 関連リンク

- [前回の開発日記](https://zenn.dev/centervil/articles/2025-06-23_115_dev-diary)

## はじめに

昨日はGemini TTS APIの機能拡張について検討しました。今日は、長めの音声台本を用意し、テキストから音声への変換結果を検証します。特に、自然な会話の品質に焦点を当て、改善を目指します。

## 背景と目的

高品質なTTS（テキスト音声変換）は、様々なアプリケーションで重要です。特に、ニュース記事やポッドキャストのようなコンテンツを自動生成する場合、自然で聞き取りやすい音声が求められます。今回は、サイバーセキュリティニュース記事を題材に、ポッドキャスト風の台本を作成し、TTSの品質を検証・改善することを目的とします。

## 検討内容

まずは、ニュース記事を元に台本を作成し、TTSで音声ファイルを生成します。生成された音声の品質（話すペース、自然さ、話者切り替え、内容網羅性）を評価し、改善点を見つけます。特に、人間が話すような自然な会話を実現するために、言い換えや比喩、質問と回答などを盛り込んだ台本を作成することを検討しました。

## 実装内容

以下に、具体的な作業内容を示します。

1.  **台本の作成:** サイバーセキュリティニュース記事を元に、2人の話者が交互に話すポッドキャスト番組風の台本を作成しました。`tools/tts_test_dev/sample_script.txt` に保存しました。
2.  **TTSによる音声生成:** 作成した台本を元に、TTSスクリプト `test_tts.py` を実行し、音声ファイル `output_audio_0.wav` を生成しました。
3.  **台本の修正:** 生成された音声を確認した結果、台本が単調であるというフィードバックを受けました。そこで、言い換えや比喩、質問と回答などを盛り込み、より自然で人間味のある会話になるように台本を修正しました。この修正作業を何度か繰り返し、より自然な会話を目指しました。
4.  **リポジトリへの反映:** 最終的な台本と音声ファイルを、`feature/tts-podcast-script-improvement` ブランチにコミットし、GitHubにプッシュしました。その後、`main`ブランチにマージしました。

## 技術的なポイント

今回の実装における技術的なポイントは、以下の点です。

*   **自然な会話の実現:** 言い換えや比喩、質問と回答などを盛り込むことで、より人間が話すような自然な会話を目指しました。
*   **話者切り替えの自然さ:** 2人の話者がスムーズに会話を切り替えることができるように、台本の構成を工夫しました。

## 所感

今回の開発では、TTSで自然な会話を生成することの難しさを改めて認識しました。特に、台本が単調にならないように、様々な工夫を凝らす必要がありました。何度も台本を修正する過程で、どのような表現がより自然に聞こえるのか、試行錯誤を繰り返しました。思った以上に時間がかかりましたが、最終的には満足のいく結果を得ることができました。

## 今後の課題

今回の開発で、話すペースが速いという課題が残りました。今後は、会話中に話す内容によって速度を調整できるように、TTSスクリプトを改良することを検討します。また、異なる音声の選択や感情表現の追加など、Gemini TTS APIのさらなる機能拡張についても検討していきたいと思います。

## まとめ

今回は、サイバーセキュリティニュース記事を題材に、ポッドキャスト風の台本を作成し、TTSの品質検証を行いました。台本の修正を繰り返すことで、より自然な会話を実現することができました。今後は、話すペースの調整や機能拡張など、さらなる改善を目指していきたいと思います。