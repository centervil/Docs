---
title: "成果物のmdファイル出力先修正 (開発日記 No.129)"
emoji: "📝"
type: "idea"
topics: ["開発日記", "GitHub Actions", "ファイル出力"]
published: false
---

:::message
この記事はgemini-2.0-flash-001によって自動生成されています。
:::

## 関連リンク

- [前回の開発日記](https://zenn.dev/centervil/articles/2025-07-11_128-development)

## はじめに

昨日は、Issue #28 に関連する成果物のmdファイルの出力先について調査を行いました。今日は、その調査結果を踏まえ、具体的な修正方針を検討し、必要に応じて実装を進めていきます。

## 背景と目的

今回の開発テーマは、成果物のmdファイルが `current-theme.txt` の指定通りの場所に出力されないというIssue #28に対応することです。ユーザーが期待するディレクトリ構造でファイルが出力されるように修正することで、ドキュメント管理の利便性を向上させることを目的としています。

## 検討内容

昨日の調査で、mdファイルの出力先はGitHub Actionsワークフローの `output_folder` 変数で決定され、`current_theme.txt` の内容が優先される設計であることがわかりました。しかし、実際には `current_theme.txt` で指定したディレクトリに出力されず、直下に出力されるという問題が確認されました。

この問題を解決するために、以下の点を検討しました。

*   ワークフローの出力先決定ロジックの再確認
*   `content-converter` 側の出力処理の調査
*   `content-converter` に出力先ディレクトリ自動作成処理を追加することの是非

検討の結果、`content-converter` に出力先ディレクトリ自動作成処理を追加すれば解決する見込みですが、今回は現状分析・原因特定・修正方針の整理までとし、実装変更は一旦保留としました。

## 実装内容

本日は、主に以下の作業を実施しました。

1.  `current-theme.txt` の内容取得ロジックの確認
2.  mdファイル出力処理のソース特定
3.  GitHub Actions/CIの成果物出力パスの見直し

具体的なコード変更は行いませんでしたが、問題の根本原因を特定するために、関連するソースコードや設定ファイルを詳細に調査しました。

## 技術的なポイント

今回の調査で、mdファイルの出力先がGitHub Actionsワークフローの変数によって制御されていること、そして `current_theme.txt` の内容が優先される設計であることを再確認しました。また、`content-converter` 側の出力処理にディレクトリ自動作成機能が欠けていることが、問題の根本原因である可能性が高いことがわかりました。

## 所感

昨日の調査から今日の検討を通して、Issue #28 の原因を特定し、解決の糸口を見つけることができました。しかし、今回は実装を見送ったため、まだ問題は解決していません。明日以降、`content-converter` 側の修正を進める予定です。

開発を進める上で、GitHub Actionsのワークフローと `content-converter` の連携についてより深く理解する必要があると感じました。

## 今後の課題

今後の課題は、以下の通りです。

*   `content-converter` に出力先ディレクトリ自動作成処理を追加する
*   GitHub Actionsワークフローとの連携を再確認する
*   テスト実行・成果物の出力先検証を行う

これらの課題を解決することで、Issue #28 をクローズし、ユーザーが期待するディレクトリ構造でmdファイルが出力されるように改善します。

## まとめ

本日は、成果物のmdファイル出力先に関するIssue #28に対応するため、原因の特定と修正方針の検討を行いました。`content-converter` に出力先ディレクトリ自動作成処理を追加することが解決策となり得ることを突き止めましたが、実装は保留としました。今後は、`content-converter` 側の修正を進め、Issue #28 の解決を目指します。