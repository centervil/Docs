# 2025-04-03 development

## 今日の開発テーマ

Zenn記事と開発日記のフォーマット改善

## 前日までの活動履歴
前日までの活動履歴は以下の通りです：
* 2025-04-02: 開発日記処理とZennテンプレートの改善 (ファイル名: 2025-04-02_033_development.md)

## 会話ログ

- ユーザー: 今日の開発テーマは、昨日の開発結果に以下のような不満があったので、解消したいです。
問題のファイルは 'Docs/articles/2025-04-02_033_dev-diary.md' です。
・titleが冗長（コロンで区切ってあるが、いらないし、長い）
・関連リンクの前回の開発日記へのリンクが間違っている（articles/以下のslug名が、dev-recordに保管された変換前の開発記録のファイル名になっている）
・関連リンクの前回の開発日記のタイトルが、違う（これを取得するのが難しければ、無理にタイトルを付けなくていい）

また、'Docs/dev-records/2025-04-02_033_development.md' にも不満があります。
・前回までの活動履歴の欄が異常に多い。ここは前日の履歴のみあればよいし、この欄に前回の開発日記のタイトルを載せるようにすれば、上記の問題も解決するかも。

最小限の作業でこれらを解決してください。
最近ファイルやコード量が増えてきたので、コンテキスト削減のためにも、場当たり的な対応はやめて頂きたい。
- LLM: 承知しました。昨日の開発結果に関するご不満、承りました。今日の開発テーマは「**Zenn記事と開発日記のフォーマット改善**」として、修正を進めます。まず、本日の開発日記ファイルを更新します。
- LLM: 開発日記ファイルを更新しました。
- LLM: `Diary-Converter/templates/zenn_template.md` のLLM指示を修正し、タイトルを簡潔に、関連リンクはタイトルなしの形式で出力するように変更しました。（1回目の試行はファイル内容不一致で失敗、2回目で成功）
- LLM: 関連リンクURLの間違いの原因調査のため、`Docs/.github/workflows/diary-convert.yml` を確認しました。ワークフローは `articles/` 内の最新記事スラッグを正しく取得しているように見えます。
- LLM: `Diary-Converter/src/diary_converter/diary_converter.py` を確認しました。スクリプトはワークフローから渡されたスラッグをそのままテンプレートに適用しています。
- LLM: `Docs/tools/diary-filename-processor.sh` を確認しました。スクリプトは期待されるZenn記事スラッグ形式 `YYYY-MM-DD_NNN_dev-diary` を正しく生成しています。修正は不要と判断しました。
- LLM: これまでの操作を開発日記に記録します。
- ユーザーからのフィードバック: 開発日記の「前日までの活動履歴」を常に直近1日分のみにするルールを、今後のプロセスに反映させるため、指示ガイドを修正するよう依頼。
- LLM: `Docs/dev-docs/Auto_Logging_Guide.md` を修正し、「前日までの活動履歴」には直近1日分のみを記載するルールを明記しました。
- LLM: 過去の記事 `Docs/articles/2025-03-07-conversation-auto-logging.md` に含まれる古いプロンプト例の前に、最新のガイドを参照するよう注釈を追加しました。
- LLM: 追加の修正内容を開発日記に記録します。
- ユーザーからのフィードバック: `Docs/articles/2025-03-07-conversation-auto-logging.md` の修正はユーザーの指定間違いであり不要だった。ユーザー自身で修正するとのこと。本日の開発は終了。明日は既存記事の修正を行う予定。LLM開発における初期仕様、リファクタリング、テストの重要性について言及。
- LLM: フィードバックを承知し、本日の開発セッションを終了します。最終的なやり取りを開発日記に記録します。
